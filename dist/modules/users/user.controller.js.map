{"version":3,"sources":["../../../src/modules/users/user.controller.ts"],"sourcesContent":["import { Body, Controller, Get, HttpCode, HttpStatus, Post, UseGuards, UsePipes, ValidationPipe } from \"@nestjs/common\";\r\nimport CreateUserRequestDTO from \"./dtos/request/create-user-request.dto\";\r\nimport CreateUserUseCase from \"./usecases/create-user.usecase\";\r\nimport { User } from \"./user.schema\";\r\nimport { PaginatorDecorator } from \"src/core/decorators/paginator.decorator\";\r\nimport Paginator from \"src/core/models/Paginator\";\r\nimport FindAllUsersUseCase from \"./usecases/find-all-users.usecase\";\r\nimport AuthGuard from \"../auth/guards/auth.guard\";\r\nimport RoleGuard from \"../auth/guards/role.guard\";\r\nimport { AllowRoles } from \"../auth/decorators/allow-roles.decorator\";\r\nimport { RoleType } from \"src/core/enums/role-type.enum\";\r\n\r\n\r\n@Controller({ path: 'users', version: '1' })\r\nexport default class UserController {\r\n\r\n    constructor(\r\n        private readonly _createUserUseCase: CreateUserUseCase,\r\n        private readonly _findAllUsersUseCase: FindAllUsersUseCase\r\n    ) {}\r\n\r\n    @UseGuards(AuthGuard, RoleGuard)\r\n    @AllowRoles(RoleType.ADMIN)\r\n    @Get()\r\n    async findAll(@PaginatorDecorator() paginator: Paginator) {\r\n        return this._findAllUsersUseCase.execute(paginator);\r\n    }\r\n\r\n    @UsePipes(ValidationPipe)\r\n    @HttpCode(HttpStatus.CREATED)\r\n    @Post()\r\n    async create(@Body() request: CreateUserRequestDTO) {\r\n        return await this._createUserUseCase.execute(new User(request));\r\n    }\r\n\r\n}"],"names":["UserController","findAll","paginator","_findAllUsersUseCase","execute","create","request","_createUserUseCase","User","constructor","ADMIN","CREATED","path","version"],"mappings":";;;;;;;eAcqBA;;;wBAdkF;6EACtE;0EACH;4BACT;oCACc;kEACb;4EACU;kEACV;kEACA;qCACK;8BACF;;;;;;;;;;;;;;;;;;;;AAIV,IAAA,AAAMA,iBAAN,MAAMA;IAOjB,MAGMC,QAAQ,AAAsBC,SAAoB,EAAE;QACtD,OAAO,IAAI,CAACC,oBAAoB,CAACC,OAAO,CAACF;IAC7C;IAEA,MAGMG,OAAO,AAAQC,OAA6B,EAAE;QAChD,OAAO,MAAM,IAAI,CAACC,kBAAkB,CAACH,OAAO,CAAC,IAAII,gBAAI,CAACF;IAC1D;IAjBAG,YACI,AAAiBF,kBAAqC,EACtD,AAAiBJ,oBAAyC,CAC5D;aAFmBI,qBAAAA;aACAJ,uBAAAA;IAClB;AAgBP;;;gEAbyBO;;;;;;;;;;;6CAOAC;;;;;;;;;;;QAhBXC,MAAM;QAASC,SAAS"}