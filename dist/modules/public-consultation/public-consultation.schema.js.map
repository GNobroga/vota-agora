{"version":3,"sources":["../../../src/modules/public-consultation/public-consultation.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Types } from 'mongoose';\r\nimport { User } from '../users/user.schema';\r\n\r\n@Schema({ collection: 'public_consultation' })\r\nexport default class PublicConsultation {\r\n  @Prop()\r\n  title: string;\r\n\r\n  @Prop()\r\n  description: string;\r\n\r\n  @Prop()\r\n  imageUrl: string;\r\n\r\n  @Prop()\r\n  initialDate: Date;\r\n\r\n  @Prop({ type: Types.ObjectId, ref: 'User' })\r\n  owner: Types.ObjectId | User;\r\n\r\n  @Prop()\r\n  endDate: Date;\r\n\r\n  constructor(props: Partial<PublicConsultation>) {\r\n    this.title = props?.title ?? this.title;\r\n    this.description = props?.description ?? this.description;\r\n    this.initialDate = props?.initialDate ?? this.initialDate;\r\n    this.endDate = props?.endDate ?? this.endDate;\r\n    this.imageUrl = props?.imageUrl ?? this.imageUrl;\r\n    this.owner = props?.owner ?? this.owner;\r\n  }\r\n\r\n  static create(\r\n    owner: Types.ObjectId,\r\n    title: string,\r\n    description: string,\r\n    initialDate: Date,\r\n    endDate: Date,\r\n  ) {\r\n    return new PublicConsultation({\r\n      title,\r\n      description,\r\n      initialDate,\r\n      endDate,\r\n      owner,\r\n    });\r\n  }\r\n\r\n  static update(\r\n    title: string,\r\n    description: string,\r\n    imageUrl: string = undefined,\r\n  ) {\r\n    return new PublicConsultation({\r\n      title,\r\n      description,\r\n      imageUrl,\r\n    });\r\n  }\r\n}\r\n\r\nexport const PublicConsultationSchema =\r\n  SchemaFactory.createForClass(PublicConsultation);\r\n"],"names":["PublicConsultationSchema","PublicConsultation","create","owner","title","description","initialDate","endDate","update","imageUrl","undefined","constructor","props","type","Types","ObjectId","ref","collection","SchemaFactory","createForClass"],"mappings":";;;;;;;;;;;IA8DaA,wBAAwB;eAAxBA;;;eAzDQC;;;0BALuB;2BACtB;;;;;;;;;;AAIP,IAAA,AAAMA,qBAAN,MAAMA;IA4BnB,OAAOC,OACLC,KAAqB,EACrBC,KAAa,EACbC,WAAmB,EACnBC,WAAiB,EACjBC,OAAa,EACb;QACA,OAAO,IAAIN,mBAAmB;YAC5BG;YACAC;YACAC;YACAC;YACAJ;QACF;IACF;IAEA,OAAOK,OACLJ,KAAa,EACbC,WAAmB,EACnBI,WAAmBC,SAAS,EAC5B;QACA,OAAO,IAAIT,mBAAmB;YAC5BG;YACAC;YACAI;QACF;IACF;IAnCAE,YAAYC,KAAkC,CAAE;QAC9C,IAAI,CAACR,KAAK,GAAGQ,OAAOR,SAAS,IAAI,CAACA,KAAK;QACvC,IAAI,CAACC,WAAW,GAAGO,OAAOP,eAAe,IAAI,CAACA,WAAW;QACzD,IAAI,CAACC,WAAW,GAAGM,OAAON,eAAe,IAAI,CAACA,WAAW;QACzD,IAAI,CAACC,OAAO,GAAGK,OAAOL,WAAW,IAAI,CAACA,OAAO;QAC7C,IAAI,CAACE,QAAQ,GAAGG,OAAOH,YAAY,IAAI,CAACA,QAAQ;QAChD,IAAI,CAACN,KAAK,GAAGS,OAAOT,SAAS,IAAI,CAACA,KAAK;IACzC;AA6BF;;;;;;;;;;;;;;;;;;;QA1CUU,MAAMC,gBAAK,CAACC,QAAQ;QAAEC,KAAK;;;;;;;;;;QAd3BC,YAAY;;;;;;;AA0Df,MAAMjB,2BACXkB,uBAAa,CAACC,cAAc,CAAClB"}