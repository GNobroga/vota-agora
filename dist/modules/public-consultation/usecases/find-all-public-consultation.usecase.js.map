{"version":3,"sources":["../../../../src/modules/public-consultation/usecases/find-all-public-consultation.usecase.ts"],"sourcesContent":["import Paginator from \"src/core/models/Paginator\";\r\nimport IDefaultUseCase from \"src/core/usecases/default.usecase\";\r\nimport PublicConsultationResponseDTO from \"../dtos/response/public-consultation-response.dto\";\r\nimport { Inject, Injectable } from \"@nestjs/common\";\r\nimport { IPublicConsultationRepository, PUBLIC_CONSULTATION_REPOSITORY_TOKEN } from \"../interfaces/public-consultation-repository.interface\";\r\n\r\n@Injectable()\r\nexport default class FindAllPublicConsultationUseCase implements IDefaultUseCase<Paginator, PublicConsultationResponseDTO[]> {\r\n\r\n    constructor(\r\n        @Inject(PUBLIC_CONSULTATION_REPOSITORY_TOKEN)\r\n        private readonly _publicConsultationRepository: IPublicConsultationRepository\r\n    ) {}\r\n\r\n    async execute(input: Paginator): Promise<PublicConsultationResponseDTO[]> {\r\n        return (await this._publicConsultationRepository.findAll(input)).map(src => {\r\n            return {\r\n                id: src['_id'],\r\n                title: src.title,\r\n                description: src.description,\r\n                initialDate: src.initialDate,\r\n                endDate: src.endDate,\r\n                imageUrl: src.imageUrl,\r\n            }\r\n        });\r\n    }\r\n}"],"names":["FindAllPublicConsultationUseCase","execute","input","_publicConsultationRepository","findAll","map","src","id","title","description","initialDate","endDate","imageUrl","constructor"],"mappings":";;;;;;;eAOqBA;;;wBAJc;uDACiD;;;;;;;;;;;;;;;AAGrE,IAAA,AAAMA,mCAAN,MAAMA;IAOjB,MAAMC,QAAQC,KAAgB,EAA4C;QACtE,OAAO,AAAC,CAAA,MAAM,IAAI,CAACC,6BAA6B,CAACC,OAAO,CAACF,MAAK,EAAGG,GAAG,CAACC,CAAAA;YACjE,OAAO;gBACHC,IAAID,GAAG,CAAC,MAAM;gBACdE,OAAOF,IAAIE,KAAK;gBAChBC,aAAaH,IAAIG,WAAW;gBAC5BC,aAAaJ,IAAII,WAAW;gBAC5BC,SAASL,IAAIK,OAAO;gBACpBC,UAAUN,IAAIM,QAAQ;YAC1B;QACJ;IACJ;IAhBAC,YACI,AACiBV,6BAA4D,CAC/E;aADmBA,gCAAAA;IAClB;AAcP"}